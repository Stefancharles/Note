# 为什么需要内联函数？
首先需要先知道一个重要的东西——**栈空间**。栈空间是用来存放函数内部的数据的内存空间。在系统中，栈空间是有限的。假如大量，频繁地使用栈空间，会造成因栈空间不足导致的程序错误，例如函数的死循环和无限递归调用就会导致栈空间枯竭。

在C/C++中，如果有一些函数频繁地被调用，不断的有函数入栈（函数栈），会造成栈空间或者栈内存的大量消耗。

为了解决这个问题，所以引入inline修饰符，内联函数。

# 例子
```c++
#include <stdio.h>  
 
//函数定义为inline即:内联函数  
inline char* dbtest(int a) 
{  
	return (i % 2 > 0) ? "奇" : "偶";  
}   
  
int main()  
{  
	int i = 0;  
	for (i=1; i < 100; i++) 
	{  
		printf("i:%d    奇偶性:%s /n", i, dbtest(i));      
	}  
} 
```

使用inline修饰，其实在内部的工作就是在每个for循环的内部任何调用dbtest(i)的地方都换成了(i%2>0)?"奇":"偶"这样就避免了频繁调用函数对栈内存重复开辟所带来的消耗。

# 注意事项
## 1.inline是用于实现的关键字
错误例子：
```c++
inline void test(int a);
test(int a)
{
    std::cout<<"test";
} 
```

正确例子：
```c++
void test(int a);
inline void test(int a)
{
    std::cout<<"test";
}
```
 所以说，inline 是一种 **用于实现的关键字** ，而不是一种“**用于声明的关键字**”。一般地，用户可以阅读函数的声明，但是看不到函数的定义。尽管在大多数教科书中内联函数的声明、定义体前面都加了inline 关键字，但inline 不应该出现在函数的声明中。这个细节虽然不会影响函数的功能，但是体现了高质量C++/C 程序设计风格的一个基本原则：声明与定义不可混为一谈，用户没有必要、也不应该知道函数是否需要内联。

## 2.inline的使用限制
   inline只适合涵数体内代码简单的函数数使用，不能包含复杂的结构控制语句例如while、switch，并且内联函数本身不能是直接递归函数(自己内部还调用自己的函数)。

## 3.谨慎使用inline
内联是以代码膨胀（复制）为代价，仅仅省去了函数调用的开销，从而提高函数的执行效率。如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率的收获会很少。另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，消耗更多的内存空间。

以下情况**不宜**使用内联：

* （1）如果函数体内的代码比较长，使用内联将导致内存消耗代价较高。

* （2）如果函数体内出现循环，那么执行函数体内代码的时间要比函数调用的开销大。

一个好的编译器将会根据函数的定义体，自动地取消不值得的内联（这进一步说明了inline 不应该出现在函数的声明中）。

